## 函数的用途与定义

- C++ 的函数只能有 **一个** 返回值，可以有 **多条** 返回语句。
- C++ 的返回值 **不能是数组**！
- 函数名是一个 **标识符**，符合标识符命名规范。命名规则：**首含关长大**。
- 函数名要有意义，函数名一般是一个 **动词短语**，表示函数的行为。

举例：判断闰年

``` cpp
bool IsLeapYear(int year)
{
    bool leapyear;

    leapyear = ((year % 4 == 0) && (year % 100 != 0)) || (year % 400 == 0);

    return leapyear;
}
```

## 函数的使用

### 函数的声明

**所有函数在使用前必须被声明**，以便让编译器知道用户的用法是否正确。

函数声明包括三个内容 (与函数头相似)：
* 函数名
* 参数的个数和类型
* 函数的返回类型

函数的声明被称为**函数的原型**，它的形式为：

```
返回类型 函数名（参数表）；
```

参数表中的每个参数说明可以是类型，也可以是类型后面再接一个参数名，如：

```cpp
int max(int, int);
int max(int a, int b);
```

### 函数调用

形参/实参

值传递/引用传递

函数调用执行过程：
* 在主程序中计算每个实际参数值；
* 用实际参数值初始化形式参数，如类型不一致则自动转换；
* 依次执行函数体的每个语句，直到遇见 return 语句或函数体结束；
* 计算 return 后面的表达式的值，如类型不一致则自动转换；
* 回到调用函数，用返回值置换函数调用，继续主程序的执行。

帧 (frame)：栈 (stack) 中用来存储函数的形式参数和函数内定义的变量。

执行函数调用：
- 现场保护，并为函数内的局部变量（包括形参）分配内存
- 把实参值复制一份给形参，单向传值（实参→形参）
- 实参与形参的数目、类型和顺序要一致

从函数退出时：
- 返回到本次函数调用的地方
- 把函数值返回给主调函数，同时把控制权还给调用者
- 收回分配给函数内所有变量（包括形参）的内存

## 变量的作用域与存储类别



## 函数参数 -- 数组和默认值




## 内联、重载、模板、递归

### 内联

函数调用存在开销，需要创建函数的帧。

在调用内联函数时，编译器直接用内联函数的代码替换函数调用，于是省去了函数调用的开销。

内联函数的定义：在函数头部前加保留词 inline

``` cpp
#include <iostream>
using namespace std;

inline float cube(float s) {
    return s * s * s;
}

int main() {
    float side;
    cin >> side;
    cout << cube(side) << endl;
    return 0;
}

```


### 重载






### 模板





### 递归



#### Hannoi 塔

该问题只能用递归来解决。递归的步骤如下：

1. 将 `n-1` 个盘子从 A 移动到 C，使用 B 作为辅助柱。
2. 将第 `n` 个盘子（即最下面的盘子）从 A 移动到 B。
3. 将 `n-1` 个盘子从 C 移动到 B，使用 A 作为辅助柱。

``` cpp
#include <iostream>
using namespace std;

// 递归函数实现汉诺塔问题
void Hanoi(int n, char start, char finish, char temp) {
    // 基本情况：只有一个盘子，直接移动
    if (n == 1) {
        cout << start << " -> " << finish << '\t';
    } 
    // 递归情况：多个盘子
    else {
        // 将n-1个盘子从start移动到temp，以finish作为辅助柱
        Hanoi(n - 1, start, temp, finish);
        // 将第n个盘子从start移动到finish
        cout << start << " -> " << finish << '\t';
        // 将n-1个盘子从temp移动到finish，以start作为辅助柱
        Hanoi(n - 1, temp, finish, start);
    }
}

// 主函数
int main() {
    int n = 64; // 盘子的数量
    Hanoi(n, 'A', 'B', 'C');
    return 0;
}
```

